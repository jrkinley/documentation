---
title: Troubleshoot Redpanda in Kubernetes
tags:
  - Kubernetes
---

<head>
    <meta name="title" content="Troubleshoot Redpanda in Kubernetes | Redpanda Docs"/>
    <meta name="description" content="Find advice on how to diagnose and troubleshoot problems with Redpanda in Kubernetes."/>
</head>

import Versions from '../../../shared/_versions.mdx'

This topic provides guidance on how to diagnose and troubleshoot problems with Redpanda in Kubernetes.

## Prerequisites

Before troubleshooting Redpanda, make sure that Kubernetes isn't the cause of the problem. For information about debugging applications in a Kubernetes cluster, see the [Kubernetes documentation](https://kubernetes.io/docs/tasks/debug/).

## Collect all debugging data

If you're unsure of what is wrong, you can generate a diagnostics bundle that contains a wide range of data to help debug and diagnose issues with a Redpanda cluster, a broker, or the machines on which the brokers are running.

See [Diagnostics Bundles in Kubernetes](../diagnostics-bundle).

## StatefulSet never rolls out

If the StatefulSet Pods remain in a pending state, they are waiting for resources to become available.

To identify the Pods that are pending, use the following command:

```
kubectl get pod -n redpanda
```

The response includes a list of Pods in your StatefulSet and their status.

To view logs for a specific Pod, use the following command.

```bash
kubectl logs -f <pod-name>
```

You can use the output to debug your deployment.

### Unable to mount volume

If you see volume mounting errors in the Pod events or in the Redpanda logs, make sure that each of your Pods has a volume available in which to store data.

- If you're using PersistentVolumes, make sure that you have one PersistentVolume available for each Redpanda broker, and that each one has the storage capacity that's set in `storage.persistentVolume.size`:

  ```bash
  kubectl get pv -n redpanda
  ```

- If you're using StorageClasses with dynamic provisioners (default), make sure they exist:

  ```bash
  kubectl get storageclass
  ```

:::note
If you're running on EKS, the [Amazon EBS CSI driver](https://docs.aws.amazon.com/eks/latest/userguide/ebs-csi.html) is required to allow EKS to create PersistentVolumes.
:::

To learn how to configure storage volumes, see [Configure Storage](../../configure-storage).

## View Helm chart configuration

To check the values that were set in the Redpanda Helm chart:

```bash
helm get values redpanda -n redpanda --all
```

## dig not defined

This error means that you are using an unsupported version of [Helm](https://helm.sh/docs/intro/install/):

```
Error: parse error at (redpanda/templates/statefulset.yaml:203): function "dig" not defined
```

Make sure that you are using the minimum required version: <Versions name="helm"/>.

```bash
helm version
```
