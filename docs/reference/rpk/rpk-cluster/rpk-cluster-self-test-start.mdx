---
title: rpk cluster self-test start
---

<head>
  <meta name="title" content="rpk cluster self-test start | Redpanda Docs" />
  <meta name="description" content="rpk cluster self-test start" />
</head>

Starts one or more benchmark tests on one or more nodes of the cluster. 

The benchmark tests that can be run:

- **Disk tests**
  - Throughput test (512 KB request messages, sequential read/write)
    - Higher request size and deeper I/O queue depth sacrifices IOPS/latency numbers in order to read/write more bytes in a shorter amount of time.
  - Latency test (4 KB request messages, sequential read/write)
    - Smaller request size and lower levels of parallelism to achieve higher IOPS and lower latency results.

- **Network tests**
  - Throughput test (8192 byte messages)
    * Unique pairs of Redpanda nodes act as a client and a server.
    * Benchmark test pushes as much data over the wire within the duration of test parameters.

This command will immediately return once invoked with success. The benchmark tests are run asynchronously. It is up to the user to periodically check back for the result set using the [rpk cluster self-test status](../../rpk-cluster/rpk-cluster-self-test-status) command.

### Usage

```
rpk cluster self-test start [flags]
```

### Flags

<table>
  <tbody>
    <tr>
      <td>
        <strong> Value</strong>
      </td>
      <td>
        <strong> Type</strong>
      </td>
      <td>
        <strong> Description</strong>
      </td>
    </tr>
    <tr>
      <td>-h, --help</td>
      <td>-</td>
      <td> Help for start.</td>
    </tr>
    <tr>
      <td>--disk-duration-ms</td>
      <td>uint</td>
      <td>The duration, in milliseconds, of one run of a disk benchmark test (default: 5000).</td>
    </tr>
    <tr>
      <td>--network-duration-ms</td>
      <td>uint</td>
      <td>The duration, in milliseconds, of one run of a network benchmark test (default: 5000).</td>
    </tr>
    <tr>
      <td>--no-confirm</td>
      <td>-</td>
      <td>Acknowledge warning prompt skipping read from stdin.</td>
    </tr>
    <tr>
      <td>--only-disk-test</td>
      <td>-</td>
      <td>Run only disk benchmark tests.</td>
    </tr>
    <tr>
      <td>--only-network-test</td>
      <td>-</td>
      <td>Run only network benchmark tests.</td>
    </tr>
    <tr>
      <td>--participant-node-ids</td>
      <td>ints</td>
      <td>IDs of nodes that the benchmark tests will run on. If not set, tests will be run on all nodes.</td>
    </tr>
    <tr>
      <td>--admin-api-tls-cert</td>
      <td>string</td>
      <td>The certificate to be used for TLS authentication with the Admin API.</td>
    </tr>
    <tr>
      <td>--admin-api-tls-enabled</td>
      <td>-</td>
      <td>Enable TLS for the Admin API. Not necessary if specifying custom certs.</td>
    </tr>
    <tr>
      <td>--admin-api-tls-key</td>
      <td>string</td>
      <td>The certificate key to be used for TLS authentication with the Admin API.</td>
    </tr>
    <tr>
      <td>--admin-api-tls-truststore</td>
      <td>string</td>
      <td>The truststore to be used for TLS communication with the Admin API.</td>
    </tr>
    <tr>
      <td>--api-urls</td>
      <td>strings</td>
      <td>Comma-separated list of admin API addresses (&lt;IP&gt;:&lt;port&gt;).</td>
    </tr>
    <tr>
      <td>--brokers</td>
      <td>strings</td>
      <td>Comma-separated list of broker ip:port pairs. For example:
          <p/><code>--brokers '192.168.78.34:9092,192.168.78.35:9092,192.179.23.54:9092'</code>. 
          <p/>Alternatively, you may set the <code>REDPANDA_BROKERS</code> environment variable with the comma-separated list of broker addresses.</td>
    </tr>
    <tr>
      <td>--config           
      </td>
      <td>string</td>
      <td>Redpanda config file. If not set, the file will be searched for in the default locations.</td>
    </tr>
    <tr>
      <td>--password         
      </td>
      <td>string</td>
      <td>SASL password to be used for authentication</td>
    </tr>
    <tr>
      <td>--sasl-mechanism   
      </td>
      <td>string</td>
      <td>The authentication mechanism to use.<p/>Supported values: <code>SCRAM-SHA-256</code>, <code>SCRAM-SHA-512</code></td>
    </tr>
    <tr>
      <td>--tls-cert</td>
      <td>string</td>
      <td>The certificate to be used for TLS authentication with the broker.</td>
    </tr>
    <tr>
      <td>--tls-enabled             </td>
      <td>-</td>
      <td>Enable TLS for the Kafka API (not necessary if specifying custom certs).</td>
    </tr>
    <tr>
      <td>--tls-key</td>
      <td>string</td>
      <td>The certificate key to be used for TLS authentication with the broker.</td>
    </tr> 
    <tr>
      <td>--tls-truststore</td>   
      <td>string</td>
      <td>The truststore to be used for TLS communication with the broker.</td>
    </tr> 
    <tr>
      <td>--user</td>
      <td>string</td>
      <td>SASL user for authentication.</td>
    </tr> 
    <tr>
      <td>-v, --verbose</td>
      <td>-</td>
      <td>Enable verbose logging (default: false).</td>
    </tr>   
  </tbody>
</table>

### Related topics

- [Guide for running self-test for cluster diagnostics](../../../../manage/cluster-maintenance/cluster-diagnostics#self-test)
- [rpk cluster self-test](../../rpk-cluster/rpk-cluster-self-test)
- [rpk cluster self-test status](../../rpk-cluster/rpk-cluster-self-test-status)
- [rpk cluster self-test stop](../../rpk-cluster/rpk-cluster-self-test-stop)
