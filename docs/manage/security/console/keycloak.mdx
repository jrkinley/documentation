---
title: Keycloak SSO Setup
---

<head>
    <meta name="title" content="Keycloak SSO Authentication in Redpanda Console | Redpanda Docs"/>
    <meta name="description" content="Configure authentication with external identity providers in Redpanda Console."/>
</head>

:::info
This feature requires an [Enterprise license](../../../../get-started/licenses). To upgrade, contact [Redpanda sales](https://redpanda.com/try-redpanda?section=enterprise-cloud).
:::

By integrating Redpanda Console with Keycloak, your users can sign in to Redpanda Console using their Keycloak login credentials.

## Prerequisites

Install Keycloak and create a super admin user account, which has the necessary permissions for setting up the OAuth application.

(Optional) Create at least one realm for managing and authenticating a specific group of users.

:::note
You can use the master realm, or you can create a realm for managing and authenticating a specific group of users.
:::

## Create an OpenID connect application

1. Log in to the Keycloak Admin Console.

2. Select the realm where you want to create a client (clients are applications and services that request user authentication).

3. In the navigation pane, select **Clients**.

4. On the **Clients** page, click **Create client**.
    The **General Settings** page opens.

5. In **Client ID**, enter a name for your console application, then click **Next**.
    The **Capability config** page opens.

6. Enable **Client authentication**, then click **Next**.
    The **Login settings** page opens.

7. In **Valid redirect URIs**, enter the URI where users are redirected after they log in successfully.

    For example, if users access Redpanda Console from `https://console.<your-company>.com`, enter the following URI and replace `<your-company>` with the actual URI:

    ```
    https://console.<your-company>.com/login/callbacks/keycloak
    ```

    If you host Redpanda Console on your local machine, for example, you would use the following URI instead:
    
    ```
    https://localhost:8080/login/callbacks/keycloak`
    ```

8. Click **Save**.
    A summary page opens.

9. Click the **Credentials** tab.

10. In **Client Authenticator**, select **Client Id and Secret**, then click **Save**.

11. Copy the **Client secret**, which is automatically generated.

:::info
The `redpanda-console-config.yaml` file uses the client secret to establish communication with Keycloak.
:::

## Edit the console configuration file

Edit the console configuration file associated with your deployment method and incorporate the details from your client application. For example, Kubernetes deployments use the `values.yaml` file. Linux deployments use the `redpanda-console-config.yaml` file, which is in `/etc/redpanda`.

:::note
The following configurations are based on the assumption that you host Redpanda Console so it is accessible from
`https://console.<your-company>.com`.
:::

```yaml
login:
  enabled: true

  # jwtSecret is the secret key you must use to sign and encrypt the JSON
  # web token used to store user sessions. This secret key is
  # critical for the security of Redpanda Console's authentication and
  # authorization system. Use a long, complex key with a combination of
  # numbers, letters, and special characters. While you must use a minimum of
  # 10 characters, Redpanda recommends using more than 32
  # characters. For additional security, use a different secret key for
  # each environment. jwtSecret can be securely generated with the following
  # command: LC_ALL=C tr -dc '[:alnum:]' < /dev/random | head -c32
  #
  # If you update this secret key, any users who are
  # already logged into Redpanda Console will be logged out and will have
  # to log in again.
  jwtSecret: ""

  keycloak:
    enabled: true
    url: https://keycloak.internal.company.com
    realm: <realm-name> # Replace this placeholder with the actual realm name.

    clientId: ""
    clientSecret: ""

    # The directory configuration is only required if you want to 
    # use Keycloak groups in your role bindings. 
    # This is described further in the next section.
    # directory:
    #   adminUser: ""
    #   adminPassword: ""
```

## RBAC Keycloak groups sync

To bind roles to Keycloak groups, you need to specify admin user credentials. These credentials
are used to resolve group memberships when communicating with Keycloak's API.

```yaml
login:
  keycloak:
    directory:
      adminUser: ""
      adminPassword: ""
```

## Define role-bindings

When you set up the Keycloak login configuration, you can bind Keycloak users or groups to roles. Following is a sample
role binding:

```yaml
roleBindings:
  - metadata:
      name: Developers
    subjects:
      - kind: group
        provider: Keycloak
        name: 55e999ff-7923-4750-b2e1-7387768958a0 # Group ID
      - kind: user
        provider: Keycloak
        name: martin # Keycloak login / username
    roleName: editor
```
